<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>

<BorderPane fx:controller="it.unicas.project.template.address.view.UserProfileController"
            prefWidth="900.0" prefHeight="500.0"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            stylesheets="@DarkTheme.css">

    <!-- HEADER -->
    <top>
        <ToolBar BorderPane.alignment="CENTER">
            <Button fx:id="indietroButton" text="Indietro" onAction="#onIndietro" style="-fx-text-fill: #fff"/>
            <Label text="Profilo utente"
                   style="-fx-font-size: 18px; -fx-font-weight: bold;" />
        </ToolBar>
    </top>

    <!-- CONTENUTO PRINCIPALE -->
    <center>
        <HBox spacing="20" alignment="TOP_CENTER"
              style="-fx-padding: 15;">

            <!-- PANNELLO PROFILO -->
            <VBox spacing="15"
                  prefWidth="280"
                  style="-fx-padding: 15;
                         -fx-background-radius: 10;">

                <!-- Avatar circolare + username -->
                <VBox alignment="CENTER" spacing="8">
                    <StackPane>
                        <Circle radius="40"
                                style="-fx-fill: #3c3f41;" />
                        <Label fx:id="inizialiLabel"
                               style="-fx-text-fill: white;
                                      -fx-font-size: 32;
                                      -fx-font-weight: bold;"/>
                    </StackPane>
                    <Label fx:id="usernameLabel"
                           style="-fx-text-fill: #000;
                                  -fx-font-size: 14;" />
                </VBox>

                <Separator />

                <!-- DETTAGLI ACCOUNT -->
                <VBox spacing="8">
                    <Label text="Dettagli account"
                           style="-fx-font-size: 14;
                                  -fx-font-weight: bold;" />

                    <GridPane hgap="10" vgap="6">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="35"/>
                            <ColumnConstraints percentWidth="65"/>
                        </columnConstraints>

                        <Label text="Email:"
                               GridPane.rowIndex="0"
                               GridPane.columnIndex="0"/>
                        <Label fx:id="emailLabel" text="-"
                               GridPane.rowIndex="0"
                               GridPane.columnIndex="1"/>

                        <Label text="Data di nascita:"
                               GridPane.rowIndex="1"
                               GridPane.columnIndex="0"/>
                        <Label fx:id="birthdayLabel" text="-"
                               GridPane.rowIndex="1"
                               GridPane.columnIndex="1"/>
                    </GridPane>
                </VBox>

                <Separator />

                <!-- INFO STATISTICHE UTENTE -->
                <VBox spacing="6">
                    <Label text="Statistiche"
                           style="-fx-font-size: 14;
                                  -fx-font-weight: bold;" />

                    <HBox spacing="10">
                        <Label text="Prenotazioni effettuate:"/>
                        <Label fx:id="totalBookingsLabel" text="0"/>
                    </HBox>
                </VBox>

                <Separator />

            </VBox>

            <!-- PANNELLO EVENTI PRENOTATI -->
            <VBox spacing="10" HBox.hgrow="ALWAYS"
                  style="-fx-background-color: #f4f4f4;
             -fx-padding: 12;
             -fx-background-radius: 10;">

                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Eventi prenotati"
                           style="-fx-font-size: 16;
                      -fx-font-weight: bold;" />
                    <Pane HBox.hgrow="ALWAYS"/>
                </HBox>

                <TableView fx:id="bookingTable"
                           VBox.vgrow="ALWAYS"
                           prefHeight="400"
                           style="-fx-background-color: #f4f4f4;
                      -fx-control-inner-background: #f4f4f4;
                      -fx-control-inner-background-alt: #e9e9e9;
                      -fx-text-fill: #111;">
                    <columns>
                        <TableColumn fx:id="eventColumn"
                                     text="Evento"
                                     prefWidth="200" style="-fx-text-fill: #000"/>
                        <TableColumn fx:id="dateColumn"
                                     text="Data / Ora"
                                     prefWidth="150"/>
                        <TableColumn fx:id="placeColumn"
                                     text="Luogo"
                                     prefWidth="120"/>
                        <TableColumn fx:id="seatsColumn"
                                     text="Posti prenotati"
                                     prefWidth="180"/>
                        <TableColumn fx:id="actionColumn"
                                     text="Azioni"
                                     prefWidth="120"/>
                    </columns>
                </TableView>

                <Label fx:id="infoLabel"
                       text=""
                       style="-fx-text-fill: #111" />
            </VBox>

        </HBox>
    </center>

</BorderPane>