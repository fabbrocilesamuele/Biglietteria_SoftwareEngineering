<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="it.unicas.project.template.address.view.LoginRegisterController">

    <center>
        <!-- CARD CENTRALE -->
        <VBox spacing="15"
              alignment="CENTER"
              BorderPane.alignment="CENTER"
              style="-fx-padding: 24;">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- Titolo / logo semplice -->
            <HBox spacing="10" alignment="CENTER">
                <Label text="Accedi alla biglietteria" alignment="CENTER"
                       style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2a2a2a;"/>
            </HBox>

            <!-- TabPane per Login / Register -->
            <TabPane prefWidth="420" prefHeight="600"
                     style="-fx-background-color: transparent;" >
                <!-- LOGIN TAB -->
                <Tab text="Login" closable="false" style="-fx-border-color: #2a5298;-fx-border-radius: 6; -fx-background-color: transparent; -fx-padding: 0 8 0 8;">
                    <AnchorPane prefHeight="400" prefWidth="400">
                        <children>
                            <GridPane hgap="10" vgap="12"
                                      AnchorPane.topAnchor="10"
                                      AnchorPane.leftAnchor="10"
                                      AnchorPane.rightAnchor="10">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="35"/>
                                    <ColumnConstraints percentWidth="65"/>
                                </columnConstraints>

                                <Label text="Email:"
                                       GridPane.rowIndex="0" GridPane.columnIndex="0"
                                       style="-fx-text-fill: #444;"/>
                                <TextField fx:id="loginEmailField"
                                           promptText="Inserisci l'email"
                                           GridPane.rowIndex="0" GridPane.columnIndex="1"
                                           style="
                                               -fx-background-radius: 8;
                                               -fx-border-radius: 8;
                                               -fx-border-color: #d0d0d0;
                                               -fx-background-color: #f7f7f7;
                                           "/>

                                <Label text="Password:"
                                       GridPane.rowIndex="1" GridPane.columnIndex="0"
                                       style="-fx-text-fill: #444;"/>
                                <PasswordField fx:id="loginPasswordField"
                                               promptText="Inserisci password"
                                               GridPane.rowIndex="1" GridPane.columnIndex="1"
                                               style="
                                                   -fx-background-radius: 8;
                                                   -fx-border-radius: 8;
                                                   -fx-border-color: #d0d0d0;
                                                   -fx-background-color: #f7f7f7;
                                               "/>

                                <Button text="Login"
                                        fx:id="loginButton"
                                        onAction="#handleLogin"
                                        GridPane.rowIndex="2" GridPane.columnIndex="1"
                                        GridPane.halignment="RIGHT"
                                        style="
                                            -fx-background-color: linear-gradient(to right, #4CAF50, #45A049);
                                            -fx-text-fill: white;
                                            -fx-font-weight: bold;
                                            -fx-background-radius: 20;
                                            -fx-padding: 6 18 6 18;
                                        "/>

                                <Label fx:id="loginStatusLabel"
                                       text=""
                                       GridPane.rowIndex="3" GridPane.columnIndex="0" GridPane.columnSpan="2"
                                       style="-fx-text-fill: #e53935;"/>
                            </GridPane>
                        </children>
                    </AnchorPane>
                </Tab>

                <!-- REGISTER TAB -->
                <Tab text="Register" closable="false" style="-fx-border-color: #2a5298;-fx-border-radius: 6; -fx-background-color: transparent;-fx-padding: 0 8 0 8;">
                    <AnchorPane prefHeight="400" prefWidth="400">
                        <children>
                            <GridPane hgap="10" vgap="12"
                                      AnchorPane.topAnchor="10"
                                      AnchorPane.leftAnchor="10"
                                      AnchorPane.rightAnchor="10">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="35"/>
                                    <ColumnConstraints percentWidth="65"/>
                                </columnConstraints>

                                <Label text="Nome:"
                                       GridPane.rowIndex="1" GridPane.columnIndex="0"
                                       style="-fx-text-fill: #444;"/>
                                <TextField fx:id="regNomeField"
                                           promptText="Inserisci il nome"
                                           GridPane.rowIndex="1" GridPane.columnIndex="1"
                                           style="
                                               -fx-background-radius: 8;
                                               -fx-border-radius: 8;
                                               -fx-border-color: #d0d0d0;
                                               -fx-background-color: #f7f7f7;
                                           "/>
                                <Label fx:id="regCognomeLabel" text="Cognome:"
                                       GridPane.rowIndex="2" GridPane.columnIndex="0"
                                       style="-fx-text-fill: #444;"/>
                                <TextField fx:id="regCognomeField"
                                           promptText="Inserisci il cognome"
                                           GridPane.rowIndex="2" GridPane.columnIndex="1"
                                           style="
                                               -fx-background-radius: 8;
                                               -fx-border-radius: 8;
                                               -fx-border-color: #d0d0d0;
                                               -fx-background-color: #f7f7f7;
                                           "/>
                                <Label fx:id="regCompleannoLabel" text="Compleanno:"
                                       GridPane.rowIndex="3" GridPane.columnIndex="0"
                                       style="-fx-text-fill: #444;"/>
                                <DatePicker fx:id="regCompleannoDatePicker"
                                            promptText="Seleziona la data"
                                            GridPane.rowIndex="3" GridPane.columnIndex="1"
                                            style="-fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #d0d0d0; -fx-background-color: #f7f7f7;"/>

                                <Label text="Email:"
                                       GridPane.rowIndex="4" GridPane.columnIndex="0"
                                       style="-fx-text-fill: #444;"/>
                                <TextField fx:id="regEmailField"
                                           promptText="Inserisci l'email"
                                           GridPane.rowIndex="4" GridPane.columnIndex="1"
                                           style="
                                               -fx-background-radius: 8;
                                               -fx-border-radius: 8;
                                               -fx-border-color: #d0d0d0;
                                               -fx-background-color: #f7f7f7;
                                           "/>

                                <Label text="Password:"
                                       GridPane.rowIndex="5" GridPane.columnIndex="0"
                                       style="-fx-text-fill: #444;"/>
                                <PasswordField fx:id="regPasswordField"
                                               promptText="Scegli la password"
                                               GridPane.rowIndex="5" GridPane.columnIndex="1"
                                               style="
                                                   -fx-background-radius: 8;
                                                   -fx-border-radius: 8;
                                                   -fx-border-color: #d0d0d0;
                                                   -fx-background-color: #f7f7f7;
                                               "/>
                                <CheckBox fx:id="organizzatoreCheckBox" text="Organizzazione" GridPane.rowIndex="0" GridPane.columnIndex="1" />

                                <Label fx:id="orgTipologiaLabel" text="Tipologia:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-text-fill: #444;" visible="false" managed="false" />
                                <ComboBox  fx:id="orgTipologiaComboBox" promptText="Inserisci la tipologia" GridPane.rowIndex="2" GridPane.columnIndex="1" GridPane.hgrow="ALWAYS" visible="false" managed="false"
                                           style="-fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #d0d0d0; -fx-background-color: #f7f7f7;" />

                                <Button text="Register"
                                        fx:id="registerButton"
                                        onAction="#handleRegister"
                                        GridPane.rowIndex="6" GridPane.columnIndex="1"
                                        GridPane.halignment="RIGHT"
                                        style="
                                            -fx-background-color: linear-gradient(to right, #2196F3, #1E88E5);
                                            -fx-text-fill: white;
                                            -fx-font-weight: bold;
                                            -fx-background-radius: 20;
                                            -fx-padding: 6 18 6 18;
                                        "/>

                                <Label fx:id="registerStatusLabel"
                                       text=""
                                       GridPane.rowIndex="6" GridPane.columnIndex="0" GridPane.columnSpan="2"
                                       style="-fx-text-fill: #e53935;"/>
                            </GridPane>
                        </children>
                    </AnchorPane>
                </Tab>
            </TabPane>

        </VBox>
    </center>
</BorderPane>
